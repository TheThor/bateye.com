"use strict";function find_builtins(a){["null","true","false","Infinity","-Infinity","undefined"].forEach(b);[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(c){Object.getOwnPropertyNames(c).map(b);if(c.prototype){Object.getOwnPropertyNames(c.prototype).map(b)}});function b(c){push_uniq(a,c)}}function mangle_properties(b,q){q=defaults(q,{builtins:false,cache:null,debug:false,keep_quoted:false,only_cache:false,regex:null,reserved:null});var d=q.reserved;if(!Array.isArray(d)){d=[]}if(!q.builtins){find_builtins(d)}var a=q.cache;if(a==null){a={cname:-1,props:new Dictionary()}}var l=q.regex;var m=q.keep_quoted;var c=q.debug!==false;var j;if(c){j=(q.debug===true?"":q.debug)}var f=[];var p=[];var k={};b.walk(new TreeWalker(function(r){if(r instanceof AST_ObjectKeyVal){o(r.key,m&&r.quote)}else{if(r instanceof AST_ObjectProperty){o(r.key.name)}else{if(r instanceof AST_Dot){o(r.property)}else{if(r instanceof AST_Sub){h(r.property,m)}}}}}));return b.transform(new TreeTransformer(function(r){if(r instanceof AST_ObjectKeyVal){if(!(m&&r.quote)){r.key=i(r.key)}}else{if(r instanceof AST_ObjectProperty){r.key.name=i(r.key.name)}else{if(r instanceof AST_Dot){r.property=i(r.property)}else{if(r instanceof AST_Sub){if(!m){r.property=g(r.property)}}}}}}));function e(r){if(p.indexOf(r)>=0){return false}if(d.indexOf(r)>=0){return false}if(q.only_cache){return a.props.has(r)}if(/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(r)){return false}return true}function n(r){if(m&&r in k){return false}if(l&&!l.test(r)){return false}if(d.indexOf(r)>=0){return false}return a.props.has(r)||f.indexOf(r)>=0}function o(s,r){if(r){k[s]=true;return}if(e(s)){push_uniq(f,s)}if(!n(s)){push_uniq(p,s)}}function i(s){if(!n(s)){return s}var r=a.props.get(s);if(!r){if(c){var t="_$"+s+"$"+j+"_";if(e(t)&&!(m&&t in k)){r=t}}if(!r){do{r=base54(++a.cname)}while(!e(r)||m&&r in k)}a.props.set(s,r)}return r}function h(v,s){var t={};try{(function r(w){w.walk(new TreeWalker(function(x){if(x instanceof AST_Sequence){r(x.expressions[x.expressions.length-1]);return true}if(x instanceof AST_String){o(x.value,s);return true}if(x instanceof AST_Conditional){r(x.consequent);r(x.alternative);return true}throw t}))})(v)}catch(u){if(u!==t){throw u}}}function g(r){return r.transform(new TreeTransformer(function(t){if(t instanceof AST_Sequence){var s=t.expressions.length-1;t.expressions[s]=g(t.expressions[s])}else{if(t instanceof AST_String){t.value=i(t.value)}else{if(t instanceof AST_Conditional){t.consequent=g(t.consequent);t.alternative=g(t.alternative)}}}return t}))}};