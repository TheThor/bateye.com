var util=require("./util");var has=Object.prototype.hasOwnProperty;function ArraySet(){this._array=[];this._set=Object.create(null)}ArraySet.fromArray=function ArraySet_fromArray(d,b){var e=new ArraySet();for(var c=0,a=d.length;c<a;c++){e.add(d[c],b)}return e};ArraySet.prototype.size=function ArraySet_size(){return Object.getOwnPropertyNames(this._set).length};ArraySet.prototype.add=function ArraySet_add(b,e){var d=util.toSetString(b);var c=has.call(this._set,d);var a=this._array.length;if(!c||e){this._array.push(b)}if(!c){this._set[d]=a}};ArraySet.prototype.has=function ArraySet_has(a){var b=util.toSetString(a);return has.call(this._set,b)};ArraySet.prototype.indexOf=function ArraySet_indexOf(a){var b=util.toSetString(a);if(has.call(this._set,b)){return this._set[b]}throw new Error('"'+a+'" is not in the set.')};ArraySet.prototype.at=function ArraySet_at(a){if(a>=0&&a<this._array.length){return this._array[a]}throw new Error("No element indexed by "+a)};ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()};exports.ArraySet=ArraySet;